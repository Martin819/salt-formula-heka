[AMQPOutput_{{ name }}]
type = "AMQPOutput"
url = "amqp{% if values.ssl is defined %}s{% endif %}://{{ values.user }}:{{ values.password }}@{{ values.host }}/{{ values.vhost }}"
exchange = "{{ values.exchange }}"
exchange_type = "{{ values.exchange_type }}"
message_matcher = "{{ values.message_matcher }}"
use_framing = true
encoder = "{{ values.encoder }}"

[AMQPOutput_{{ name }}.retries]
max_delay = "{{ values.get('max_delay', '30s') }}"
delay = "{{ values.get('delay', '250ms') }}"
max_retries = {{ values.get('max_retries', '-1') }}

{#-
vim: syntax=jinja
-#}
